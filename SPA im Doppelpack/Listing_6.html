<script type="text/javascript">  var FLOAT_REGEXP = /^\-?\d+((\.|\,)\d+)?$/;  app.directive('customFloat', function() { return {    require: 'ngModel', link: function(scope, elm, attrs, ctrl) {      ctrl.$parsers.unshift(function(viewValue) {        (FLOAT_REGEXP.test(viewValue)) if {          ctrl.$setValidity('float', true);           return parseFloat(viewValue.replace(',', '.')); } else {          ctrl.$setValidity('float', false); return undefined; }});}};  });</script><form name="form" novalidate>  <input type="text" ng-model="length" name="length" custom-float />  <span ng-show="form.length.$error.float">Not valid!</span></form>